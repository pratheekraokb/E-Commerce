{% extends 'main_pages/base.html' %}

{% block styleCss %}
<style>
    * {
        padding: 0;
        margin: 0;
    }

    .fluid-container {
        max-width: 100vw;
        min-height: 100vh;
        display: flex;

    }

    .left {
        width: 17%;
        /* background-color: black; */
        color: wheat;
        /* height: 200vh; */
        overflow-y: scroll;
        scrollbar-width: thin;
        border-right: 2px solid gray;
        /* Hide the scroll bar pipe (thin style) */
        scrollbar-color: transparent transparent;
        /* Hide the scrollbar color */
    }

    .left::-webkit-scrollbar {
        width: 0.1rem;
        /* Adjust the width to your preference */
    }

    .left::-webkit-scrollbar-thumb {
        background: transparent;
        /* Hide the scrollbar thumb */
    }

    .right {
        width: 83%;
        /* background-color: rgb(12, 190, 131); */
    }
    .description {
    display: -webkit-box;
    -webkit-line-clamp: 5; /* Limit the text to 6 lines */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis; /* Add ellipsis if text overflows */
    }
    .pro{
        max-height: 60vh; 
        overflow: scroll;
        scrollbar-color: transparent transparent;
    }

    .pro::-webkit-scrollbar {
        width: 0.1rem;
        
    }

    .pro::-webkit-scrollbar-thumb {
        background: transparent;
        
    }

    .productImages {
        position: relative;
    }
    .productImages img {
        display: none;
        max-width: 100%;
        height: auto;
    }
    .productImages img.active {
        display: block;
    }
    
    a.cart:hover{
        font-size: x-large;        
    }
    .cart svg {
        fill: currentColor;
        transition: fill 0.3s; /* Add a smooth transition effect */
    }

    /* Apply a different color on hover */
    .cart:hover svg {
        fill: rgb(0, 8, 255); /* Change the color to your desired color */
    }


</style>

<style>

</style>

{% endblock %}

{% block content %}


<div class="fluid-container">
    <div class="left">
        left data
        <!-- Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eos deserunt ipsum excepturi velit. Saepe, ducimus. Veniam itaque cupiditate repellendus, magnam, numquam fuga facere, velit alias nisi quas tempore veritatis nostrum at quibusdam. Omnis eos dolorem facere. Officia quae nostrum eligendi odit illo, eveniet sapiente similique cupiditate quaerat dolor. Reiciendis quisquam aliquam nemo libero vel laudantium quis suscipit molestiae a alias ea deleniti architecto, maxime id enim quasi omnis qui quas, veniam, soluta iusto harum consequuntur sunt rem! Culpa, sint numquam quam omnis aut nam temporibus suscipit maiores natus earum ratione eius ex eligendi et, vel at? Perspiciatis doloremque, nobis laborum voluptate nemo optio tenetur cum. Explicabo sit voluptatum ipsam praesentium cupiditate maxime, minus, nam sed eum rem voluptates esse illo eos, minima enim eaque quos necessitatibus quas laudantium. Odit ratione explicabo accusamus eligendi quasi. Eligendi sapiente at voluptatibus saepe dolores voluptatem voluptas, doloremque voluptatum aliquam eaque blanditiis adipisci cupiditate earum nam et. Iste inventore exercitationem tempora. Quae maxime dolorum tempora veniam doloribus numquam, incidunt pariatur debitis asperiores, natus ut dolorem sit iste eum, sint temporibus fuga architecto quas dolor. Quibusdam sint sapiente ratione distinctio voluptate, cumque ex nostrum dolorem, unde natus, mollitia quo nam dicta veritatis! Nam neque porro unde praesentium accusantium voluptate dolores quaerat odit, maiores commodi vitae possimus harum hic cupiditate veritatis non? Est, deleniti enim deserunt minus non, nam excepturi vero nisi harum animi necessitatibus. Minus vitae recusandae vero, praesentium fugiat labore ea ipsa non, corporis neque officia a tenetur assumenda. Nam molestias, necessitatibus dolore eligendi eum ratione quod. Nemo veniam est amet alias! At, minus doloribus. Consequatur aliquid voluptate id nesciunt aut minima numquam sit laborum nisi fugit tenetur aperiam dolore, reiciendis vero doloribus voluptatem deserunt quos quisquam dignissimos. Quasi culpa rem perspiciatis. Rem repellendus et ab laborum odio at eos, ratione vitae tempora labore aliquam aspernatur ipsam nostrum aliquid fugiat architecto quaerat sequi veniam? Quo labore provident dolorem? Reiciendis recusandae, veritatis at adipisci aliquam nesciunt in ratione ipsum. Ut nisi dolor optio molestiae nesciunt consectetur, sed quaerat vel perspiciatis natus doloribus dolorum tempore, fugit officiis deleniti minima officia blanditiis sint iusto? Voluptatum consectetur error amet iste necessitatibus. Reprehenderit voluptate dolor aperiam unde qui quis odit deserunt, harum officia animi. Quasi, harum perspiciatis. Debitis aliquam saepe minima deleniti nihil tenetur quia odio assumenda eius deserunt aspernatur, possimus voluptate quasi vitae corrupti eligendi maiores. Saepe dolores rerum laudantium fugit sed doloremque, assumenda, placeat, quaerat nobis rem aliquid autem. Atque unde omnis eligendi sapiente illo? Natus nesciunt porro perspiciatis magnam quia impedit soluta voluptatum tempora qui similique tempore deleniti animi quis, maiores, officia sed illum libero corrupti, at laborum voluptatem quae eum. Consequatur eum excepturi optio assumenda aliquid deserunt non, odit omnis doloribus expedita sunt ipsa, ab totam vitae autem, rem blanditiis beatae quibusdam quaerat. Explicabo officia rerum adipisci laudantium qui unde veritatis fugiat atque quos vel. Voluptates magni amet reprehenderit dolore nam incidunt quis odio ipsum asperiores id. Accusantium modi delectus nobis reiciendis atque? Ullam accusamus nobis eligendi? Dolores minima beatae molestias illum a tempora harum architecto iusto, dolorum porro est ipsa qui magnam delectus. Optio beatae cumque voluptatum culpa, numquam, architecto nam praesentium repellendus possimus accusamus cum ea amet commodi ipsam quod fugit ad quasi eos! Ratione, error earum, sint labore porro voluptas dolore sed sit totam iure numquam saepe voluptatum quibusdam officia nulla illo? Exercitationem nemo ex quos natus rerum? Minima placeat iste distinctio maxime sequi ullam quibusdam, ex, dolore ad at provident architecto numquam magni odio neque non. Corrupti facere ratione molestiae harum dolores maiores quisquam odit voluptatum non. Molestias ratione tenetur rem. Autem mollitia, error, cum corrupti porro exercitationem similique reiciendis amet, harum saepe sint veniam eius magni adipisci hic totam corporis. Similique temporibus, quisquam, explicabo fuga aliquam facilis cupiditate officia cum maiores mollitia quidem, distinctio vel voluptates enim incidunt perspiciatis voluptatem! Consectetur quae aliquam qui, nostrum quos aut ex odio alias, atque distinctio illum culpa repellendus, debitis nihil quod fugit vel voluptatem officia fugiat unde cupiditate inventore. Quasi dolores nihil aspernatur quaerat libero sunt, earum tempora corporis, optio commodi nesciunt fuga natus facilis nostrum molestiae vitae praesentium atque dicta ipsam similique! Fuga, exercitationem fugiat eos officia cupiditate repudiandae recusandae. Quae distinctio enim molestiae illo placeat, sapiente accusantium architecto accusamus cupiditate, delectus nisi eos repudiandae sed voluptate deserunt fuga nulla quis dignissimos facere tenetur necessitatibus suscipit consectetur eum non. Inventore sequi perferendis doloribus molestiae explicabo. Numquam nemo dolore mollitia non dolorem! Atque nostrum nobis unde placeat fuga quibusdam adipisci dolor, ducimus beatae aliquid natus possimus cupiditate laboriosam ad optio maiores vitae perferendis repellendus! Explicabo, aliquam! Quibusdam aperiam, cum sunt earum nesciunt eligendi magnam sit deleniti veniam dolor asperiores illum tempora quae perferendis beatae. Cupiditate non eaque repudiandae minus quod rem in nobis cum ducimus pariatur, dolore magni ut odio voluptatum molestiae? Dolorum corrupti voluptatem sapiente placeat commodi. Harum delectus soluta eaque pariatur dolor error magnam? Enim culpa et debitis quo quos itaque totam! Aspernatur dignissimos, rem nulla facilis repellat placeat saepe officiis, amet in fugiat cum quasi. Eos pariatur consectetur cum quas illo praesentium eius, ex qui. Aliquam ipsam reprehenderit sapiente, accusantium corporis libero non velit sit cum, perspiciatis distinctio incidunt facilis necessitatibus! Voluptates exercitationem numquam iste reiciendis suscipit mollitia veritatis eos vitae! Non cum eveniet nam voluptas! Modi magni accusamus, eveniet illo dolor velit debitis sint nulla laudantium ab animi tempore! Molestias facilis natus ipsum, ea, labore quibusdam maiores quaerat quia est necessitatibus ipsa ut odit laudantium modi, assumenda eligendi dicta culpa soluta facere pariatur nulla reprehenderit. Veritatis aperiam minima atque, soluta officia eos voluptatibus esse expedita! Nostrum porro velit ducimus quasi. Adipisci nemo quod repellendus nobis neque. Facere quam ab quibusdam. Eum porro eveniet harum quisquam. Et aperiam optio quia molestiae dolor mollitia ducimus beatae? Quia nihil quas rerum sequi obcaecati? Eveniet fugit voluptates inventore maxime temporibus blanditiis cupiditate? Non asperiores porro reiciendis quis ex nisi ab itaque. Voluptatibus ipsa libero facere dolores perferendis, dolorum, cum inventore fugiat nemo odio quae assumenda, quasi minima quo tenetur fuga placeat eius ad! Consequuntur accusantium impedit pariatur id earum alias! Exercitationem quod commodi consequuntur! -->
    </div>
    <!-- product_subcategory.html -->

    <div class="right">
  
        <section id="product1" class="section-p1">
            {% for category_data in data %}
            <h2>{{ category_data.category_name }} - {{ category_data.subcategory_name }}</h2>
            <!-- <ul class="product-list"> -->
                {% for product_list in category_data.product_list %}
                <!-- <li> -->
                    <div class="pro-container" >
                        {% for product in product_list %}
                        <!-- <div class="pro" onmouseover="startImageSlider(this)"> -->
                        <div class="pro product-card" onmouseover="startImageSlider(this)">
                            
                            <div class="productImages">
                                <img src="/media/{{ product.product_image }}" alt="{{ product.product_name }}" class="active">
                                <div class="additionalImages">
                                    {% for additional_images in product.additional_images %}

                                    {% if additional_images is not null %}
                                    <img src="/media/{{additional_images}}" alt="">
                                    <!-- <img src="/media/shop/additional_images/51DOADQtN0L._SX679_.jpg" alt="">
                                    <img src="/media/shop/additional_images/51Sn5X2gfaL._SX522_.jpg" alt=""> -->
                                    {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="des">
                                <span>{{ product.company_name }}</span>
                                <h5>{{ product.product_name|slice:":50" }}...</h5>
                               
                                <h4>&#x20B9; {{ product.selling_price }}.00</h4>
                                <p class="description">{{ product.description }}...</p>

                                <!-- <p>{{ product.tags }}</p> -->
                            </div>
                            <div>
                                
                            </div>
                            <a href="#" class="cart" style="position:sticky;left:100%; background-color: transparent;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                                </svg>
                            </a>
                        </div>
                        {% endfor %}
                    </div>
                <!-- </li> -->
                {% endfor %}
            <!-- </ul> -->
            {% endfor %}
        </section>
    </div>

</div>
<script>
    function startImageSlider(card) {
        const images = card.querySelectorAll(".productImages img");
        let currentIndex = 0;
        let lastDisplayedIndex = 0;
        card.classList.remove("active");

        function showNextImage() {
            images[lastDisplayedIndex].classList.remove("active");
            currentIndex = (currentIndex + 1) % images.length;
            
            images[currentIndex].classList.add("active");
            lastDisplayedIndex = currentIndex;
        }

        // Start the image slider when the card is hovered
        const intervalId = setInterval(showNextImage, 1000);

        // Stop the image slider and reset the image when the card is no longer hovered
        card.addEventListener("mouseout", () => {
            clearInterval(intervalId);
            resetImage(card, lastDisplayedIndex);
        });
    }

    function resetImage(card, lastDisplayedIndex) {
        // Set the last displayed image as active
        const images = card.querySelectorAll(".productImages img");
        images.forEach((img, index) => {
            if (index === lastDisplayedIndex) {
                
                img.classList.add("active");
            } else {
                img.classList.remove("active");
            }
        });
    }
</script>



{% endblock %}